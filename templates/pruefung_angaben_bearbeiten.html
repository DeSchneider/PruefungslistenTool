<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Prüfungsangaben bearbeiten</title>
<style>
  body {
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    background: #f5f9ff;
    margin: 40px;
    color: #37547c;
  }
  h1 {
    color: #294675;
    margin-bottom: 26px;
  }
  form {
    background: white;
    max-width: 660px;
    margin: 0 auto;
    padding: 30px 32px 26px;
    border-radius: 14px;
    box-shadow: 0 8px 32px rgba(58,71,86,0.14);
  }
  label {
    display: block;
    margin: 0 0 9px 0;
    font-weight: 600;
    color: #37547c;
  }
  input, select {
    display: block;
    margin-bottom: 21px;
    padding: 10px;
    width: 100%;
    border: 1px solid #cbd6e2;
    border-radius: 6px;
    font-size: 15px;
    transition: border-color 0.2s;
  }
  input:focus, select:focus {
    border-color: #477dda;
    outline: none;
  }
  button[type="submit"] {
    background: #477dda;
    color: white;
    padding: 13px 38px;
    border: none;
    border-radius: 7px;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.3s;
  }
  button[type="submit"]:hover {
    background: #203864;
  }
  .back-link {
    display: inline-block;
    margin-top: 32px;
    color: #477dda;
    text-decoration: none;
    font-size: 16px;
  }
  .back-link:hover {
    text-decoration: underline;
  }
</style>
</head>
<body>
<h1>Prüfungsangaben bearbeiten</h1>
<form method="POST">
  <!-- Allgemeine Angaben -->
  <label for="ausrichter">Ausrichter</label>
  <input type="text" id="ausrichter" name="ausrichter" value="{{ pruefung.ausrichter or '' }}" required />

  <label for="bezirk">Bezirk</label>
  <input type="text" id="bezirk" name="bezirk" value="{{ pruefung.bezirk or '' }}" />

  <label for="datum">Datum</label>
  <input type="date" id="datum" name="datum" value="{{ pruefung.datum.isoformat() if pruefung.datum else '' }}" required />

  <label for="prueferanzahl">Anzahl Prüfer</label>
  <input type="number" id="prueferanzahl" name="prueferanzahl" min="1" max="5" value="{{ pruefung.prueferanzahl or 1 }}" />

  <!-- Ort & Zeit -->
  <label for="ort_strasse">Straße</label>
  <input type="text" id="ort_strasse" name="ort_strasse" value="{{ pruefung.ort_strasse or '' }}" />

  <label for="ort_ort">Ort</label>
  <input type="text" id="ort_ort" name="ort_ort" value="{{ pruefung.ort_ort or '' }}" />

  <label for="uhrzeit_von">Uhrzeit von</label>
  <input type="time" id="uhrzeit_von" name="uhrzeit_von" value="{{ pruefung.uhrzeit_von.strftime('%H:%M') if pruefung.uhrzeit_von else '' }}" />

  <label for="uhrzeit_bis">Uhrzeit bis</label>
  <input type="time" id="uhrzeit_bis" name="uhrzeit_bis" value="{{ pruefung.uhrzeit_bis.strftime('%H:%M') if pruefung.uhrzeit_bis else '' }}" />

  <!-- Prüfer-Auswahl -->
  <label for="pruefer_id">Prüfer</label>
  <select id="pruefer_id" name="pruefer_id">
    <option value="">- auswählen -</option>
    {% for pruefer in pruefer_liste %}
      <option value="{{ pruefer.id }}" {% if pruefung.pruefer and pruefer.id == pruefung.pruefer.id %}selected{% endif %}>
        {{ pruefer.name }} (Lizenz: {{ pruefer.lizenz_nr }})
      </option>
    {% endfor %}
  </select>

  <label for="fremdpruefer_id">Fremdprüfer</label>
  <select id="fremdpruefer_id" name="fremdpruefer_id">
    <option value="">- auswählen -</option>
    {% for pruefer in pruefer_liste %}
      <option value="{{ pruefer.id }}" {% if pruefung.fremdpruefer and pruefer.id == pruefung.fremdpruefer.id %}selected{% endif %}>
        {{ pruefer.name }} (Lizenz: {{ pruefer.lizenz_nr }})
      </option>
    {% endfor %}
  </select>

  <button type="submit">Speichern</button>
</form>
<a href="{{ url_for('pruefung.pruefung_detail', pruefung_id=pruefung.id) }}" class="back-link">Zurück zur Prüfung</a>
</body>
</html>
